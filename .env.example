# =============================================================================
# Matrix Messenger Service - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in all values
# NEVER commit .env to version control - it contains secrets!
# =============================================================================

# -----------------------------------------------------------------------------
# Matrix Domain Configuration
# -----------------------------------------------------------------------------
DOMAIN=messenger.statex.cz
ELEMENT_BASE_URL=https://messenger.statex.cz
LIVEKIT_URL=https://messenger.statex.cz
IDENTITY_SERVER_URL=https://vector.im

# -----------------------------------------------------------------------------
# Service Configuration
# -----------------------------------------------------------------------------
SERVICE_NAME=messenger
PRODUCTION_PATH=/home/statex/messenger

# -----------------------------------------------------------------------------
# PostgreSQL Configuration
# -----------------------------------------------------------------------------
POSTGRES_USER=synapse
POSTGRES_DB=synapse
POSTGRES_PASSWORD=
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Synapse Configuration
# -----------------------------------------------------------------------------
SYNAPSE_PORT=3708
SYNAPSE_SECRET_KEY=
SYNAPSE_REGISTRATION_SECRET=

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_PORT=6379
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# LiveKit Configuration
# -----------------------------------------------------------------------------
LIVEKIT_API_KEY=
LIVEKIT_API_SECRET=
LIVEKIT_HTTP_PORT=7880
LIVEKIT_HTTPS_PORT=7881
LIVEKIT_TURN_PORT=7882
LIVEKIT_RTC_PORT_START=50000
LIVEKIT_RTC_PORT_END=60000
LIVEKIT_PORT=7880

# -----------------------------------------------------------------------------
# Element Web Configuration
# -----------------------------------------------------------------------------
ELEMENT_PORT=80
ELEMENT_WEB_PORT=80

# -----------------------------------------------------------------------------
# Docker Network Configuration
# -----------------------------------------------------------------------------
NETWORK_NAME=nginx-network

# -----------------------------------------------------------------------------
# Timezone Configuration
# -----------------------------------------------------------------------------
TZ=UTC

# -----------------------------------------------------------------------------
# Container User Configuration (Security)
# -----------------------------------------------------------------------------
# User ID for running containers as non-root (REQUIRED - MUST NOT be 0/root)
# Detect with: ./scripts/detect-user.sh or: id -u
CONTAINER_USER_UID=1001

# Group ID for running containers as non-root (REQUIRED - MUST NOT be 0/root)
# Detect with: ./scripts/detect-user.sh or: id -g
CONTAINER_USER_GID=1001

# Note: CURRENT_UID and CURRENT_GID are automatically set by setup-config.sh
# They are used by microservice deployment (docker-compose.yml, blue/green)
# You don't need to set them manually - they will be added to .env automatically

# -----------------------------------------------------------------------------
# Let's Encrypt Configuration (Standalone Deployment Only)
# -----------------------------------------------------------------------------
LETSENCRYPT_EMAIL=admin@messenger.statex.cz
